{% extends "base.html" %}
<!--margin: 0 auto 设定为垂直居中-->
{% block content %}
<table>
    <tr valign="center">
        <td><img src="{{ user.avatar(128) }}"></td>
        <td>
            <h1 style="margin: 10px 0 10px 20px">User: {{user.username}}</h1>
            {% if user.about_me %}
                <p style="margin: 10px 0 10px 20px">{{ user.about_me }}</p>
            {% endif %}
            {% if user.last_seen %}
                <p style="margin: 10px 0 10px 20px">Last Seen on: {{ user.last_seen }}</p>
            {% endif %}
            <p style="margin: 10px 0 10px 20px">
                {{ user.followers.count() }} followers, {{ user.followed.count() }} following.
            </p>
            {% if user == current_user %}
            <p>
                <a href="{{ url_for('edit_profile') }}">Edit your profile</a>
            </p>
            {% elif not current_user.is_following(user) %}
            <p>
                <form action="{{ url_for('follow', username=user.username) }}" method="post" style="margin: 10px 0 10px 20px">
                    {{ form.hidden_tag() }}
                    {{ form.submit(value='Follow') }}
                </form>
            </p>
            {% else %}
            <p>
                <form action="{{ url_for('unfollow', username=user.username) }}" method="post" style="margin: 10px 0 10px 20px">
                    {{ form.hidden_tag() }}
                    {{ form.submit(value='Unfollow') }}
                </form>
            </p>
        {% endif %}
        </td>
    </tr>
</table>
<hr>
    {% for post in posts %}
        {% include "_post.html" %}
    {% endfor %}
    {% if prev_url%}
        <a href="{{ prev_url }}">Newer Posts</a>
    {% endif %}
    {% if next_url %}
		<a href="{{ next_url }}">Older Posts</a>
	{% endif %}
{% endblock %}
